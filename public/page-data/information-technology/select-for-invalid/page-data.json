{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/information-technology/select-for-invalid","result":{"data":{"allFile":{"edges":[]},"mdx":null,"mdPrevious":null,"mdNext":null,"wpPost":{"id":"cG9zdDozODg=","title":"OracleDBの無効オブジェクトを調査する方法","content":"<h2>背景</h2>\n<p>DBインスタンスのダンプを取得して移行を行ったのですが、なぜか無効なオブジェクトがいくつか発生してDBが上手く動かなくなってしまったためです。<br />\n原因究明はできていませんが、もし同様にDBのオブジェクトが無効になってしまった場合の調査方法と対処方法を以下に示します。</p>\n<h3>環境</h3>\n<p>バージョン：Oracle Database 12c</p>\n<p>OS：Windows（サーバ/クライアントとも）</p>\n<h2>調査方法</h2>\n<p>下記のSQLを流すだけです。権限も特に不要のはずなので、どのユーザでも大丈夫です。また、SQL*Plusである必要もありません。<br />\n<script src=\"https://gist.github.com/nisioka/2ad06f3f35f5299f7f8fa8b03c587c5d.js\"></script></p>\n<p>SQLDeveloperでの出力例：（オブジェクト名を隠しています）<br />\n<div data-gatsby-image-wrapper=\"\" style=\"position:relative;overflow:hidden;display:inline-block;vertical-align:top\" class=\"gatsby-image-wrapper gatsby-image-wrapper-constrained alignnone size-full wp-image-389 inline-gatsby-image-wrapper\"><div style=\"max-width:1498px;display:block\"><img alt=\"\" role=\"presentation\" aria-hidden=\"true\" src=\"data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;368&#x27;%20width=&#x27;1498&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E\" style=\"max-width:100%;display:block;position:static\"/></div><div aria-hidden=\"true\" data-placeholder-image=\"\" style=\"height:100%;left:0;position:absolute;top:0;width:100%\"></div><img data-gatsby-image-ssr=\"\" data-wp-inline-image=\"1\" data-main-image=\"\" style=\"height:100%;left:0;position:absolute;top:0;transform:translateZ(0);transition:opacity 250ms linear;width:100%;will-change:opacity;opacity:0\" sizes=\"(min-width: 1498px) 1498px, 100vw\" decoding=\"async\" loading=\"lazy\" data-src=\"/_gatsby/image/05f26fbd95e61757fcd27abd05d821ac/cf0be5244f0cae252442dd4f861e3967/2018-07-26_14h17_11.png?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2018%2F07%2F2018-07-26_14h17_11.png&amp;a=w%3D375%26h%3D92%26fm%3Dpng%26q%3D90&amp;cd=2018-07-26T12%3A22%3A36\" data-srcset=\"/_gatsby/image/05f26fbd95e61757fcd27abd05d821ac/cf0be5244f0cae252442dd4f861e3967/2018-07-26_14h17_11.png?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2018%2F07%2F2018-07-26_14h17_11.png&amp;a=w%3D375%26h%3D92%26fm%3Dpng%26q%3D90&amp;cd=2018-07-26T12%3A22%3A36 375w,/_gatsby/image/05f26fbd95e61757fcd27abd05d821ac/7582e892338d179207208827360d06f4/2018-07-26_14h17_11.png?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2018%2F07%2F2018-07-26_14h17_11.png&amp;a=w%3D749%26h%3D184%26fm%3Dpng%26q%3D90&amp;cd=2018-07-26T12%3A22%3A36 749w,/_gatsby/image/05f26fbd95e61757fcd27abd05d821ac/0495672087efb7bc8a99fdb7bdc91165/2018-07-26_14h17_11.png?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2018%2F07%2F2018-07-26_14h17_11.png&amp;a=w%3D1498%26h%3D368%26fm%3Dpng%26q%3D90&amp;cd=2018-07-26T12%3A22%3A36 1498w\" alt=\"\"/><noscript><img data-gatsby-image-ssr=\"\" data-wp-inline-image=\"1\" data-main-image=\"\" style=\"height:100%;left:0;position:absolute;top:0;transform:translateZ(0);transition:opacity 250ms linear;width:100%;will-change:opacity;opacity:0\" sizes=\"(min-width: 1498px) 1498px, 100vw\" decoding=\"async\" loading=\"lazy\" src=\"/_gatsby/image/05f26fbd95e61757fcd27abd05d821ac/cf0be5244f0cae252442dd4f861e3967/2018-07-26_14h17_11.png?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2018%2F07%2F2018-07-26_14h17_11.png&amp;a=w%3D375%26h%3D92%26fm%3Dpng%26q%3D90&amp;cd=2018-07-26T12%3A22%3A36\" srcSet=\"/_gatsby/image/05f26fbd95e61757fcd27abd05d821ac/cf0be5244f0cae252442dd4f861e3967/2018-07-26_14h17_11.png?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2018%2F07%2F2018-07-26_14h17_11.png&amp;a=w%3D375%26h%3D92%26fm%3Dpng%26q%3D90&amp;cd=2018-07-26T12%3A22%3A36 375w,/_gatsby/image/05f26fbd95e61757fcd27abd05d821ac/7582e892338d179207208827360d06f4/2018-07-26_14h17_11.png?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2018%2F07%2F2018-07-26_14h17_11.png&amp;a=w%3D749%26h%3D184%26fm%3Dpng%26q%3D90&amp;cd=2018-07-26T12%3A22%3A36 749w,/_gatsby/image/05f26fbd95e61757fcd27abd05d821ac/0495672087efb7bc8a99fdb7bdc91165/2018-07-26_14h17_11.png?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2018%2F07%2F2018-07-26_14h17_11.png&amp;a=w%3D1498%26h%3D368%26fm%3Dpng%26q%3D90&amp;cd=2018-07-26T12%3A22%3A36 1498w\" alt=\"\"/></noscript><script type=\"module\">const t=\"undefined\"!=typeof HTMLImageElement&&\"loading\"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll(\"img[data-main-image]\");for(let e of t){e.dataset.src&&(e.setAttribute(\"src\",e.dataset.src),e.removeAttribute(\"data-src\")),e.dataset.srcset&&(e.setAttribute(\"srcset\",e.dataset.srcset),e.removeAttribute(\"data-srcset\"));const t=e.parentNode.querySelectorAll(\"source[data-srcset]\");for(let e of t)e.setAttribute(\"srcset\",e.dataset.srcset),e.removeAttribute(\"data-srcset\");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector(\"[data-placeholder-image]\").style.opacity=0)}}</script></div><script type=\"application/json\" data-wp-inline-image-hydration=\"1\">{\"image\":{\"images\":{\"sources\":[],\"fallback\":{\"src\":\"/_gatsby/image/05f26fbd95e61757fcd27abd05d821ac/cf0be5244f0cae252442dd4f861e3967/2018-07-26_14h17_11.png?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2018%2F07%2F2018-07-26_14h17_11.png&a=w%3D375%26h%3D92%26fm%3Dpng%26q%3D90&cd=2018-07-26T12%3A22%3A36\",\"srcSet\":\"/_gatsby/image/05f26fbd95e61757fcd27abd05d821ac/cf0be5244f0cae252442dd4f861e3967/2018-07-26_14h17_11.png?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2018%2F07%2F2018-07-26_14h17_11.png&a=w%3D375%26h%3D92%26fm%3Dpng%26q%3D90&cd=2018-07-26T12%3A22%3A36 375w,/_gatsby/image/05f26fbd95e61757fcd27abd05d821ac/7582e892338d179207208827360d06f4/2018-07-26_14h17_11.png?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2018%2F07%2F2018-07-26_14h17_11.png&a=w%3D749%26h%3D184%26fm%3Dpng%26q%3D90&cd=2018-07-26T12%3A22%3A36 749w,/_gatsby/image/05f26fbd95e61757fcd27abd05d821ac/0495672087efb7bc8a99fdb7bdc91165/2018-07-26_14h17_11.png?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2018%2F07%2F2018-07-26_14h17_11.png&a=w%3D1498%26h%3D368%26fm%3Dpng%26q%3D90&cd=2018-07-26T12%3A22%3A36 1498w\",\"sizes\":\"(min-width: 1498px) 1498px, 100vw\"}},\"layout\":\"constrained\",\"width\":1498,\"height\":368},\"alt\":\"\",\"className\":\"alignnone size-full wp-image-389 inline-gatsby-image-wrapper\",\"data-wp-inline-image\":\"1\"}</script></p>\n<h2>対処方法</h2>\n<p>上記SQLで取得された各オブジェクトに対して再コンパイルを施します。</p>\n<p>以下、プロシージャとシノニムの例です。<br />\n<script src=\"https://gist.github.com/nisioka/28233fe611ae452ce677dbfed31ab9bd.js\"></script></p>\n","excerpt":"<p>背景 DBインスタンスのダンプを取得して移行を行ったのですが、なぜか無効なオブジェクトがいくつか発生してDBが上手く動かなくなってしまったためです。 原因究明はできていませんが、もし同様にDBのオブジェクトが無効になって [&hellip;]</p>\n","slug":"select-for-invalid","date":"2018/07/30","modified":"2018/07/30","featuredImage":{"node":{"altText":"","gatsbyImage":{"images":{"sources":[{"srcSet":"/_gatsby/image/f7f9c33f7c0ae16b8717415eac5cb419/1e77d57018921b07e6b3725ba476bdf1/oracle-e1548303868367.avif?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2018%2F06%2Foracle-e1548303868367.jpg&a=w%3D64%26h%3D51%26fm%3Davif%26q%3D75&cd=ad771aff65b5e10230ef26812c4ecf3f 64w,/_gatsby/image/f7f9c33f7c0ae16b8717415eac5cb419/3596268074d18c97ef9ce898bf9468a5/oracle-e1548303868367.avif?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2018%2F06%2Foracle-e1548303868367.jpg&a=w%3D128%26h%3D102%26fm%3Davif%26q%3D75&cd=ad771aff65b5e10230ef26812c4ecf3f 128w,/_gatsby/image/f7f9c33f7c0ae16b8717415eac5cb419/76cc53e1339214c82bba734e8836554e/oracle-e1548303868367.avif?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2018%2F06%2Foracle-e1548303868367.jpg&a=w%3D256%26h%3D205%26fm%3Davif%26q%3D75&cd=ad771aff65b5e10230ef26812c4ecf3f 256w","type":"image/avif","sizes":"(min-width: 256px) 256px, 100vw"},{"srcSet":"/_gatsby/image/f7f9c33f7c0ae16b8717415eac5cb419/e999135f6ae700b07b174b0ad1171a42/oracle-e1548303868367.webp?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2018%2F06%2Foracle-e1548303868367.jpg&a=w%3D64%26h%3D51%26fm%3Dwebp%26q%3D75&cd=ad771aff65b5e10230ef26812c4ecf3f 64w,/_gatsby/image/f7f9c33f7c0ae16b8717415eac5cb419/01c022208c2cd4d6551397e3b03c3c2a/oracle-e1548303868367.webp?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2018%2F06%2Foracle-e1548303868367.jpg&a=w%3D128%26h%3D102%26fm%3Dwebp%26q%3D75&cd=ad771aff65b5e10230ef26812c4ecf3f 128w,/_gatsby/image/f7f9c33f7c0ae16b8717415eac5cb419/d7e36cf2a3f98a055a05c08b73d447b6/oracle-e1548303868367.webp?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2018%2F06%2Foracle-e1548303868367.jpg&a=w%3D256%26h%3D205%26fm%3Dwebp%26q%3D75&cd=ad771aff65b5e10230ef26812c4ecf3f 256w","type":"image/webp","sizes":"(min-width: 256px) 256px, 100vw"}],"fallback":{"src":"/_gatsby/image/f7f9c33f7c0ae16b8717415eac5cb419/d7d31482a920f1005852ff46dac23cb5/oracle-e1548303868367.jpg?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2018%2F06%2Foracle-e1548303868367.jpg&a=w%3D64%26h%3D51%26fm%3Djpg%26q%3D75&cd=ad771aff65b5e10230ef26812c4ecf3f","srcSet":"/_gatsby/image/f7f9c33f7c0ae16b8717415eac5cb419/d7d31482a920f1005852ff46dac23cb5/oracle-e1548303868367.jpg?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2018%2F06%2Foracle-e1548303868367.jpg&a=w%3D64%26h%3D51%26fm%3Djpg%26q%3D75&cd=ad771aff65b5e10230ef26812c4ecf3f 64w,/_gatsby/image/f7f9c33f7c0ae16b8717415eac5cb419/7d03072d064d20b011bced4df6097c42/oracle-e1548303868367.jpg?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2018%2F06%2Foracle-e1548303868367.jpg&a=w%3D128%26h%3D102%26fm%3Djpg%26q%3D75&cd=ad771aff65b5e10230ef26812c4ecf3f 128w,/_gatsby/image/f7f9c33f7c0ae16b8717415eac5cb419/6481ac1d91a583a88f9af1debae416d3/oracle-e1548303868367.jpg?u=http%3A%2F%2Flocalhost%2Fwp-content%2Fuploads%2F2018%2F06%2Foracle-e1548303868367.jpg&a=w%3D256%26h%3D205%26fm%3Djpg%26q%3D75&cd=ad771aff65b5e10230ef26812c4ecf3f 256w","sizes":"(min-width: 256px) 256px, 100vw"}},"layout":"constrained","width":256,"height":205,"backgroundColor":"rgb(120,136,152)"}}},"categories":{"nodes":[{"name":"技術"}]},"tags":{"nodes":[{"name":"DB"},{"name":"oracle"},{"name":"user_objects"}]}},"wpPrevious":{"title":"【感想】Google Homeを1ヶ月使ってみて","slug":"review-google-home"},"wpNext":{"title":"Ruby on Rails チュートリアルをやってみた【第2章】","slug":"ruby-on-rails-tutorial02"}},"pageContext":{"id":"cG9zdDozODg=","previousPostId":"cG9zdDozNjA=","nextPostId":"cG9zdDozMzY=","imagePath":null}},"staticQueryHashes":["520885247","774471096"],"slicesMap":{}}